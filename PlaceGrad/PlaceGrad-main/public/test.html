<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AptitudeHub - Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="aptitude.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-section">
                <a href="aptitude.html" class="logo-link">
                    <span class="logo-icon">&#129504;</span>
                    <div class="logo-text-and-tagline">
                        <span class="logo-text">AptitudeHub</span>
                        <span class="tagline">Master your aptitude skills</span>
                    </div>
                </a>
            </div>
            <div class="test-header-controls">
                <div class="timer" id="time-display">
                     <span id="time-remaining">20:00</span>
                </div>
               
            </div>
        </div>

        <div class="test-area">
            <div class="question-section">
                <h2 id="test-category-title">Mixed Practice Test</h2>
                <p id="question-count">Question 1 of 30</p>
                
                <div class="question-card">
                    <p id="question-text">Loading question...</p>
                    <div id="options-container">
                        </div>
                </div>

                <div class="test-navigation">
                    <button id="prev-btn" class="nav-btn-prev" style="display: none;">
                        <svg xmlns="http://www.w3.org/2000/svg" height="18" viewBox="0 -960 960 960" width="18" fill="currentColor"><path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"/></svg>
                        Previous
                    </button>
                    
                    <span id="answered-count">0 of 30 answered</span>
                    
                    <button id="next-btn" class="nav-btn-next">
                        Next
                        <svg xmlns="http://www.w3.org/2000/svg" height="18" viewBox="0 -960 960 960" width="18" fill="currentColor"><path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z"/></svg>
                    </button>
                    
                    <button id="submit-test-btn" class="submit-test-btn" style="display: none;">
                        Submit Test
                    </button>
                </div>
            </div>

            <div class="question-navigator">
                <h3>Question Navigator</h3>
                <div id="navigator-grid">
                    </div>
            </div>
        </div>

        <!-- Result Screen - Shows immediately after test completion -->
        <div class="result-screen" style="display: none;">
            <div class="result-header">
                <h2>Test Results</h2>
                <div class="final-score">
                    <span class="score-label">Final Score</span>
                    <span class="score-value" id="final-score-percentage">0%</span>
                </div>
            </div>

            <div class="result-stats">
                <div class="stat-item">
                    <span class="stat-label">Total Questions</span>
                    <span class="stat-value" id="total-questions-stat">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Correct Answers</span>
                    <span class="stat-value" id="correct-answers-stat">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Incorrect Answers</span>
                    <span class="stat-value" id="incorrect-answers-stat">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Time Spent</span>
                    <span class="stat-value" id="time-spent-stat">0:00</span>
                </div>
            </div>

            <div class="result-analysis">
                <h3>Performance Analysis</h3>
                <div class="analysis-grid">
                    <div class="analysis-item">
                        <span class="analysis-label">Accuracy</span>
                        <span class="analysis-value" id="analysis-accuracy">0%</span>
                    </div>
                    <div class="analysis-item">
                        <span class="analysis-label">Average Time per Question</span>
                        <span class="analysis-value" id="analysis-avg-time">0s</span>
                    </div>
                </div>
            </div>

            <div class="result-actions">
                <a href="review.html" class="action-btn">Review Answers</a>
                <a href="performance.html" class="action-btn">View Performance Dashboard</a>
                <a href="aptitude.html" class="action-btn">New Test</a>
            </div>
        </div>
    </div>
    

    <script src="aptitude.js"></script>
    <script>
        
        // Initialize test with stored category or default
        document.addEventListener('DOMContentLoaded', () => {
            const selectedCategory = localStorage.getItem('selectedCategory') || 'Mixed Practice Test';
            const questionCount = parseInt(localStorage.getItem('questionCount')) || 30;
            
            // Clear stored values
            localStorage.removeItem('selectedCategory');
            localStorage.removeItem('questionCount');
            
            // Initialize test with random questions
            if (typeof initializeTest === 'function') {
                initializeTest(selectedCategory, questionCount);
            }
        });
    </script>
</body>
</html>